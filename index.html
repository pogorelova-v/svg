<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="container">         

       <div class="svg-text">
            <h1>SVG animate</h1>
            <ol>
                <li><strong>animate</strong> - используется для анимации любого атрибута svg элемента</li>
                <li><strong>href="#"</strong> - указывает целевой элемент по id (можно пропустить, тогда целью будет родительский элемент первого следующего вверх уровня от текущего элемента анимации)</li>
                <li><strong>attributeName=""</strong> - используется для указания имени атрибута, который вы анимируете (например r- анимировать радиус окружности или d- путь рисования) </li>
                <li><strong>attributeType=""</strong> - чтобы явно указать, к чему принадлежит анимируемый атрибут, например когда имена атрибутов в CSS и XML совпадают (может быть CSS, XML, auto, можно не указывать, по умолчанию auto)</li>
                <li><strong>from, to, by, values</strong> - определяют значения атрибута для анимации <br>
                    <ul>
                        <li><b>from</b> - начало ( в примере начальная прозрачность 1)</li>
                        <li><b>to</b> - конец ( конечная прозрачность 0), обычно используется с from, но его можно не указывать, тогда примет значение, определенное в целевом элементе</li>
                        <li><b>values</b> - указывает набор из нескольких значений, значения перечисляются через точку с запятой (values="15;50;25" - значение уменьшится до 15, после увеличится до 50 и затем вернется в начальное положение 25) </li>
                        <li><b>by</b> -  вместо абсолютных значений он работает с относительными, тоесть указывает на сколько анимация должна продвинуться от начального значения</li>
                        <li>(<b>additive=""</b> - с помощью этого атрибута можно заствить from to работать как by, принимает значения  replace и sum, где  replace по умолчанию, а sum заставит сначала суммировать значения с начальными и отработает как by)</li>
                    </ul>
                </li>
                <li><strong>dur=""</strong> - указывает время анимации (ms, s, min, h,)</li>
                <li><strong>fill=""</strong> - состояние анимации по окончании итерации: freeze - застынет в конечном положении, remove - вернётся в начальное(по умолчанию)</li>
                <li><strong>repeatCount=""</strong> - зацикливает анимацию принимая indefinite, так же может принять число определяющее количество повторений, по умолчанию 1</li>
                <li><strong>repeatDur=""</strong> - останавливает воспроизведение анимации через определенное время с начала воспроизведения, анимация может быть остановлена в середине воспроизведения</li>
                <li><strong>begin=""</strong>: 
                    <ul>
                        <li> <b>+числа</b> (ms, s, min, h) - задержка начала воспроизведения</li>
                        <li> <b>-числа</b> (ms, s, min, h) - начнётся с момента где была бы по прошествии этого времени</li>
                        <li> <b>click</b>/ focus/ resize...(больше <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/begin">тут</a> ) - событие при котором начнется анимация </li>
                        <li> <b>id.click</b> - запустит анимацию на нашем элементе при клике на элемент с id=id</li>
                        <li>  <b>click; 0s</b> - можно прописывать несколько значений, в этом случае анимация начнётся при загрузке страницы (с 0 задержкой) и по клику, <br> а click, 5s - начнётся через 5 секунд если не произойдёт клика и даже если пользователь нажмет до автоматического таймера, то, когда пройдет 5 секунд, анимация перезапустится, так и не дойдя до конца</li>
                        <br>
                        <li><b>Синхронизация анимаций</b> - помимо стандартных, есть события начала (begin), конца (end), повторения анимации (repeat) <br>
                            Для того, чтобы привязать событие, необходимо указать id анимации и через точку begin, end, repeat:</li>
                        <li> <b>id.begin</b> - начнётся вместе с началом анимации элемента по id=id</li>
                        <li> <b>id.begin + 2s</b> -  начнётся через 2s после начала анимации элемента по id=id</li>
                        <li> <b>id.end</b> - начнётся после анимации элемента по id=id</li>
                        <li> <b>id.end - 1s</b> -  начнётся за 1s до окончания анимации элемента по id=id</li>
                        <li> <b>id.repeat(2)</b> - запустится после двух повторений (а не каждые 2 повторения) анимации элемента по id=id</li>
                        <li> <b>accessKey(\u0077)</b> - который запускает анимацию по нажатию клавиши, указанной в формате Unicode</li>
                        <li> <b>wallclock(2019-04-09T19:56:00.0Z);</b> - определяет начало анимации по реальному времени (можно указать не только часы, но даже месяц и год) </li>
                    </ul>
                </li>
                <li><strong>restart=""</strong> - управляет перезапуском анимации
                    <ul>
                        <li><b>always</b> - разрешает перезапускать анимацию в любой момент времени (по умолчанию)</li>
                        <li><b>whenNotActive</b> - анимация может быть запущена, только если она уже не воспроизводится</li>
                        <li><b>запрещает перезапуск анимации</b> - запрещает перезапуск анимации</li>
                    </ul>
                </li>
                <li><strong>end</strong> - управляет прерываением анимации с возможностью привязки к событиям и указанием списока значений (в примере анимация запущеная по умолчанию прервётся после начала анимации id=id) 
                <br> <br>
                <b>Комбинирование атрибутов end и begin</b> <br>
                dur="3s" <br> begin="1s; 5s; 9s" <br> end = "2s; 8s; 11s" <br> 
                В примере анимация имеет 3 «повторения». Первый начнется через секунду после загрузки документа и продлится лишь одну секунду из трех. Затем задержка в 3 секунды, и после нее полная анимация в 3 секунды. Опять задержка, но уже в 1 секунду. Последнее повторение прервется после двух секунд анимации <br>
               <b> Количество значений в списках должно совпадать</b>. <br>
                Каждая пара значений begin-end определяет одно «повторение». <br>
                А время между концом одного «повторения» и началом следующего определяет задержку.
                </li>
                <li><strong>min / max</strong> - длительность анимации в диапазоне
                    <ul>
                        <li> <b>max</b> - если dur (+повторения) меньше max, то он игнорируется, а если больше, то анимация прервётся спустя врема определённое в max</li>
                        <li> <b>min</b> - сработает только если repeatDur не задан, а значение end меньше min (атрибут end будет игнорироваться) анимация прервется на значении min</li>
                    </ul>
                </li>
                <li><strong>keyTimes, keySplines, calcMode</strong> - управление ключевыми кадрами и указание функции времени</li>
                    <ul>
                        <li><b>keyTimes</b> - используется вместе с values (values="15; 10; 45; 55; 50" keyTimes="0; 0.1; 0.6; 0.9; 1"), в списке values, мы объявляем ключевые кадры, распределённые равномерно. 
                            <br> Благодаря атрибуту <b>keyTimes</b> можно ускорять или замедлять переход из одного состояния в другое. 
                            <br> В нём в виде списка, указываются значения для каждого кадра - положение кадра на временной оси в процентном соотношении, относительно длительности всей анимации 
                            <br> (0 – 0%; 0,5 – 50%; 1 – 100%) - первое значение обязательно 0, а последнее 1
                        </li>
                        <li><b>calcMode</b> - переопределяет линейность преобразования <br>
                            linear – стандартное значение <br>
                            paced – временные промежутки рассчитываются так, чтобы скорость между ключевыми кадрами была постоянной <br>
                            discrete – анимация переключается между ключевыми кадрами скачками, без интерполяции <br>
                            spline –  ручной режим управления 
                        </li>
                        <li><b>keySplines</b> - работает только с режимом spline, определяет для него значения (задаётся списком, где указываются координаты двух точек для кубической Безье) <br>
                            Количество значений в keySplines должно быть на 1 меньше чем values. Связано это с тем, что мы указываем значения не для ключевых кадров, а для промежутков меду ними. <br>
                            Координаты точек функции Безье разделяются пробелами или запятыми, а значения списка через точку с запятой 
                        </li>
                    </ul>
                <li><strong>Накопительные анимации</strong> <br>
                    Следующее повторение у накопительной анимации продолжится там, где закончилось предыдущее, накопительные анимации работают только в пределах повторений. <br>
                    Сделать анимацию накопительной можно установив атрибут <b>accumulate</b> (который по умолчанию <b>none</b> ) в значение <b>sum</b> <br>
                    Стоит иметь в виду, что если использовать values или from-to, то все повторения, кроме первого, будут вести они себя как при additive="sum". <br> А еще accumulate игнорируется если задан только один to.                
                </li>
            </ol>
            
            <h2>Пример</h2>          

        <pre>&lt;svg&gt;
    &lt;path&gt; id="heartSVG" d="M19.42  
        1.40455C12.8678 1.67709 12.2717 Z" 
        stroke="#303030" stroke-linecap="round" 
        stroke-linejoin="round"/&gt;
    &lt;<span>animate<sup>1</sup></span>
        <span>href="#heartSVG"<sup>2</sup></span>
        <span>attributeName="opacity"<sup>3</sup></span>
        <span>attributeType="CSS"<sup>4</sup></span>
        <span>from="1"<sup>5</sup>
        to="0"</span>
        <span>dur="2s"<sup>6</sup></span>
        <span>fill="freeze"<sup>7</sup></span>
        <span>repeatCount="indefinite"<sup>8</sup></span>            
        <span>repeatDur="3s"<sup>9</sup></span>            
        <span>begin="1.5s"<sup>10</sup></span>            
        <span>restart="whenNotActive"<sup>11</sup></span>            
        <span>end="id.begin"<sup>12</sup></span>            
        <span>max="4s"<sup>13</sup></span>                  
    /&gt;
&lt;/svg&gt;

            </pre>
       </div>

      <div class="svg-anim">

        <svg width="22" height="20" viewBox="0 0 22 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path  id="heart" d="M19.42 2.57996C18.9183 2.07653 18.3222 1.67709 17.6658 1.40455C17.0095 1.132 16.3057 0.991699 15.595 0.991699C14.8843 0.991699 14.1806 1.132 13.5242 1.40455C12.8678 1.67709 12.2717 2.07653 11.77 2.57996L11 3.35996L10.23 2.57996C9.72835 2.07653 9.13223 1.67709 8.47585 1.40455C7.81947 1.132 7.11574 0.991699 6.40503 0.991699C5.69431 0.991699 4.99058 1.132 4.3342 1.40455C3.67783 1.67709 3.0817 2.07653 2.58003 2.57996C0.460025 4.69996 0.330025 8.27996 3.00003 11L11 19L19 11C21.67 8.27996 21.54 4.69996 19.42 2.57996Z" stroke="#303030" stroke-linecap="round" stroke-linejoin="round"/>
    
            <animate 
                href="#heart" 
                attributeType="CSS" 
                attributeName="opacity" 
                from="1" 
                to="0" 
                dur="2s" 
                repeatCount="indefinite"  
            />
        </svg>

      </div> 
    </div>
    
    <script src="script.js"></script>
</body>
</html>